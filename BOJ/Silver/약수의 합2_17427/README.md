## 약수의 합2 문제 - 17427

https://www.acmicpc.net/problem/17427 

## 문제 정의

A의 약수의 합은 A의 모든 약수를 더한 값으로 정의되며, 이를 f(A)로 표현한다. g(n)은 n이하의 모든 자연수 y에 대해 f(y)를 모두 더한 값이다. 즉, g(n) = f(1) + f(2) + ... + f(n) 

## 문제 풀이

f(A)를 계산하려면 A의 약수를 직접 구해야 한다. 예를 들어, y = 36일 때:

1의 짝은 36, 

2의 짝은 18, 

3의 짝은 12, 

4의 짝은 9, 

6의 짝은 6(중복 제외) 

따라서 1부터 $\sqrt{y}$ 까지만 확인해도 모든 약수를 찾을 수 있다. 이를 n개의 숫자에 대해 약수를 찾으면 총 시간 복잡도는 $O(n\sqrt{y})$이 된다. 

이는 n이 커지면 비효율적이므로, 좀 더 효율적인 방법을 찾을 필요가 있는데, 약수의 특징을 활용하면 $O(n)$으로 줄일 수 있다. 

### 1. 약수의 정의

와 배수 i가 어떤 수 x의 약수라면, x는 i의 배수이다. 예를 들어, i = 2라면, 2의 배수는 `2, 4, 6, 8,...`와 같이 이어지며, 이들은 모두 2를 약수로 가진다.

### 2. i가 약수로 등장하는 횟수

i는 1부터 n 사이에서 i의 배수마다 약수로 등장한다. i의 배수는 i, 2i, 3i, ... , ki 형태이며, ki <= n을 만족하는 최대 k는 n/i 이다. 즉, i는 1부터 n까지 n/i번 약수로 등장한다. 

예를 들어 i = 2, x = 10이라면, 2는 2,4,6,8,10에서 등장 -> 총 10/2 = 5 

### 3. 모든 i에 대한 합산

i는 n이하의 자신의 배수들에서 약수로 한 번씩 등장하므로, 그때마다 i를 더해 줘야 한다. 

예를 들어 i = 2라면, 2,4,6,8,10에서 모두 2가 약수로 **기여**한다. 결국, 2는 총 5번 등장 했으므로 총합은 2 x 5 = 10이 된다. 따라서, $i x (n/i)$라는 식이 도출된다. 그리고 이를 1부터 n까지 모두 더해주면 g(n)을 구할 수 있게 되는 것이다. 다음은 n=5일 때의 과정을 나타낸 것이다.

```swift
i = 1: 1 x (5/1) = 5 
i = 2: 2 x (5/2) = 4 
i = 3: 3 x (5/3) = 3 
i = 4: 4 x (5/4) = 4 
i = 5: 5 x (5/5) = 5 

총합 = 5 + 4 + 3 + 4 + 5 = 21 
```

## 느낀점
처음에는 각 수의 모든 약수들을 더하여 문제를 풀어내려고 했지만, i가 각 약수에 기여한다는 점을 이용하여 $i x (n/i)$라는 공식을 유도한 점이 매우 인상깊었다. 인간의 사고로 접근하는 것이 아닌 컴퓨팅적 사고로 접근하여 시간 복잡도를 줄였기 때문이다. 이러한 접근 방법은 다른 사람들의 풀이를 참고하며 알게 되었지만, 앞으로 꾸준히 문제를 풀며 이러한 컴퓨팅적 사고를 함양할 수 있도록 노력해야 함을 느꼈다.